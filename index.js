const express = require("express");
const multer = require("multer");
const cloudinary = require("cloudinary").v2;
const { CloudinaryStorage } = require("multer-storage-cloudinary");
const fs = require("fs");
const path = require("path");
const ffmpeg = require("fluent-ffmpeg");
const ffmpegPath = require("ffmpeg-static");
const FormData = require("form-data");
const fetch = require("node-fetch"); // If you get ESM issue, use v2: npm install node-fetch@2
const OpenAI = require("openai");
require("dotenv").config();

const app = express();
app.use(express.json());

// Cloudinary config
cloudinary.config({
  cloud_name: process.env.CLOUDINARY_CLOUD_NAME,
  api_key: process.env.CLOUDINARY_API_KEY,
  api_secret: process.env.CLOUDINARY_API_SECRET,
});

// Multer storage
const storage = new CloudinaryStorage({
  cloudinary,
  params: { folder: "audio_uploads", resource_type: "auto" },
});
const upload = multer({ storage });

// OpenAI client
const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

// Predefined questions
const questionsData = [
    { "id": 1, "text": "Ù…ÛŒØ±ÛŒ Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ú©ÛŒØ³Û’ Ø¨Ù†Ø§Ø¤ÚºØŸ", "response": "Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ø¨Ù†Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Ù¾Ø±ÙˆÙØ§Ø¦Ù„' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚºØŒ ØªÙ…Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ú¾Ø±ÛŒÚº Ø§ÙˆØ± 'Ø³ÛŒÙˆ' Ù¾Ø± Ú©Ù„Ú© Ú©Ø±ÛŒÚºÛ”" },
    { "id": 2, "text": "Ù…ÛŒÚº Ù…Ù„Ø§Ø²Ù…Øª Ú©Û’ Ù„ÛŒÛ’ Ú©ÛŒØ³Û’ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÙˆÚºØŸ", "response": "Ù…Ù„Ø§Ø²Ù…Øª Ú©Û’ Ù„ÛŒÛ’ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÛŒÙ†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Jobs' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚºØŒ Ù…Ø·Ù„ÙˆØ¨Û Ù†ÙˆÚ©Ø±ÛŒ Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº Ø§ÙˆØ± 'Apply' Ù¾Ø± Ú©Ù„Ú© Ú©Ø±ÛŒÚºÛ”" },
    { "id": 3, "text": "Ù…ÛŒØ±Û’ Ù‚Ø±ÛŒØ¨ Ú©ÙˆÙ† Ø³Û’ Ù…Ù„Ø² Ù…ÛŒÚº Ú©Ø§Ù… ÛÛ’ØŸ", "response": "Ù‚Ø±ÛŒØ¨ÛŒ Ù…Ù„Ø² Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Nearby Jobs' Ø³ÛŒÚ©Ø´Ù† Ú©Ú¾ÙˆÙ„ÛŒÚº Ø§ÙˆØ± Ø¯Ø³ØªÛŒØ§Ø¨ Ù…ÙˆØ§Ù‚Ø¹ Ø¯ÛŒÚ©Ú¾ÛŒÚºÛ”" },
    { "id": 4, "text": "Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ Ù…ÛØ§Ø±ØªÛŒÚº Ú©ÛŒØ³Û’ Ø§Ù¾ ÚˆÛŒÙ¹ Ú©Ø±ÙˆÚºØŸ", "response": "Ù…ÛØ§Ø±ØªÛŒÚº Ø§Ù¾ ÚˆÛŒÙ¹ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Skills' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚºØŒ Ù†Ø¦ÛŒ Ù…ÛØ§Ø±ØªÛŒÚº Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº Ø§ÙˆØ± 'Save' Ú©Ø±ÛŒÚºÛ”" },
    { "id": 5, "text": "Ú©ÛŒØ§ Ù…ÛŒÚº Ú©Ø³ÛŒ Ù¹Ú¾ÛŒÚ©ÛŒØ¯Ø§Ø± Ú©ÛŒ Ù¹ÛŒÙ… Ù…ÛŒÚº Ø´Ø§Ù…Ù„ ÛÙˆ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø¬ÛŒ ÛØ§ÚºØŒ 'Contractors' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù¹ÛŒÙ… Ù…ÛŒÚº Ø´Ø§Ù…Ù„ ÛÙˆÙ†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÛŒÚºÛ”" },
    { "id": 6, "text": "Ù†Ø¦ÛŒ Ù†ÙˆÚ©Ø±ÛŒÙˆÚº Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº Ø§Ø·Ù„Ø§Ø¹ Ú©ÛŒØ³Û’ Ù…Ù„Û’ Ú¯ÛŒØŸ", "response": "Ù†Ø¦ÛŒ Ù†ÙˆÚ©Ø±ÛŒÙˆÚº Ú©ÛŒ Ø§Ø·Ù„Ø§Ø¹ Ú©Û’ Ù„ÛŒÛ’ 'Notifications' Ø¢Ù† Ú©Ø±ÛŒÚº ÛŒØ§ Ø§ÛŒÙ¾ Ú©ÛŒ Ø§Ù¾ ÚˆÛŒÙ¹Ø³ Ø¯ÛŒÚ©Ú¾ÛŒÚºÛ”" },
    { "id": 7, "text": "Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯Ú¯ÛŒ Ú©Ø¨ ØªÚ© Ø¸Ø§ÛØ± Ú©Ø±ÙˆÚºØŸ", "response": "Ù…ÙˆØ¬ÙˆØ¯Ú¯ÛŒ Ø¸Ø§ÛØ± Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Attendance' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ø§Ù¾Ù†ÛŒ Ù…ÙˆØ¬ÙˆØ¯Ú¯ÛŒ Ø§Ù¾ ÚˆÛŒÙ¹ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 8, "text": "Ù…ÛŒØ±Û’ Ú©Ø§Ù… Ú©ÛŒ ØªÙ†Ø®ÙˆØ§Û Ú©Ø¨ Ù…Ù„Û’ Ú¯ÛŒØŸ", "response": "ØªÙ†Ø®ÙˆØ§Û Ú©ÛŒ ØªØ§Ø±ÛŒØ® 'Salary' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¯ÛŒÚ©Ú¾ÛŒÚº ÛŒØ§ Ø§Ù¾Ù†Û’ Ú©Ù…Ù¾Ù†ÛŒ Ú©Û’ Ø´ÛŒÚˆÙˆÙ„ Ú©Û’ Ù…Ø·Ø§Ø¨Ù‚Û”" },
    { "id": 9, "text": "Ù…ÛŒÚº Ú©Ø³ Ø·Ø±Ø­ ÚˆÛŒØ¬ÛŒÙ¹Ù„ Ù…Ø¹Ø§ÛØ¯Û Ø¯ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "ÚˆÛŒØ¬ÛŒÙ¹Ù„ Ù…Ø¹Ø§ÛØ¯Û Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Contracts' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù…ØªØ¹Ù„Ù‚Û Ù…Ø¹Ø§ÛØ¯Û Ú©Ú¾ÙˆÙ„ÛŒÚºÛ”" },
    { "id": 10, "text": "Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ Ø±ÛŒÙ¹Ù†Ú¯ Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø§Ù¾Ù†ÛŒ Ø±ÛŒÙ¹Ù†Ú¯ Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Profile' ÛŒØ§ 'Ratings' Ø³ÛŒÚ©Ø´Ù† Ú©Ú¾ÙˆÙ„ÛŒÚºÛ”" },
    { "id": 11, "text": "Ú©ÛŒØ§ Ù…ÛŒÚº Ù†ÙˆÚ©Ø±ÛŒ Ú†Ú¾ÙˆÚ‘Ù†Ø§ Ú†Ø§ÛÙˆÚº ØªÙˆ Ú©ÛŒØ³Û’ Ú©Ø±ÙˆÚºØŸ", "response": "Ù†ÙˆÚ©Ø±ÛŒ Ú†Ú¾ÙˆÚ‘Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Jobs' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± 'Resign' Ø¢Ù¾Ø´Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 12, "text": "Ù…ÛŒÚº Ú©Ø³ Ø·Ø±Ø­ Ø§Ù¾Ù†ÛŒ Ø¬Ú¯Û Ú©Ø§ Ù¾ØªÛ Ø¯Ø±Ø³Øª Ú©Ø± Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø§Ù¾Ù†ÛŒ Ø¬Ú¯Û Ø¯Ø±Ø³Øª Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Settings' > 'Location' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ø¯Ø±Ø³Øª Ù¾ØªÛ Ø¯Ø±Ø¬ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 13, "text": "Ù…ÛŒÚº Ú©Ø³ Ø·Ø±Ø­ Ø²ÛŒØ§Ø¯Û Ù‚Ø±ÛŒØ¨ÛŒ Ù…Ù„Ø§Ø²Ù…Øª ØªÙ„Ø§Ø´ Ú©Ø± Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ù‚Ø±ÛŒØ¨ÛŒ Ù…Ù„Ø§Ø²Ù…ØªÛŒÚº ØªÙ„Ø§Ø´ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Nearby Jobs' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº ÙÙ„Ù¹Ø±Ø² Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 14, "text": "Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ù…ÛŒÚº ØªØµÙˆÛŒØ±ÛŒÚº Ú©ÛŒØ³Û’ ÚˆØ§Ù„ÙˆÚºØŸ", "response": "Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ù…ÛŒÚº ØªØµØ§ÙˆÛŒØ± Ø´Ø§Ù…Ù„ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Profile' > 'Edit' > 'Upload Photo' Ù¾Ø± Ø¬Ø§Ø¦ÛŒÚºÛ”" },
    { "id": 15, "text": "Ú©ÛŒØ§ Ù…ÛŒÚº Ú©Ø³ÛŒ Ø¯ÙˆØ³Ø±Û’ Ù…Ù„ Ù…ÛŒÚº Ø¨Ú¾ÛŒ Ú©Ø§Ù… Ú©Ø± Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø¬ÛŒ ÛØ§ÚºØŒ 'Jobs' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ù…Ø®ØªÙ„Ù Ù…Ù„Ø² Ú©Û’ Ù…ÙˆØ§Ù‚Ø¹ Ø¯ÛŒÚ©Ú¾ÛŒÚº Ø§ÙˆØ± Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÛŒÚºÛ”" },
    { "id": 16, "text": "Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ Ø¯Ø³ØªÛŒØ§Ø¨ÛŒ Ú©Ø¨ ØªØ¨Ø¯ÛŒÙ„ Ú©Ø± Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø§Ù¾Ù†ÛŒ Ø¯Ø³ØªÛŒØ§Ø¨ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Availability' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù†Ø¦ÛŒ ØªØ§Ø±ÛŒØ® ÛŒØ§ ÙˆÙ‚Øª Ø³ÛŒÙ¹ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 17, "text": "Ù†ÙˆÚ©Ø±ÛŒ Ú©Û’ Ø¨Ø§Ø±Û’ Ù…ÛŒÚº Ù†ÙˆÙ¹ÛŒÙÚ©ÛŒØ´Ù† Ú©ÛŒØ³Û’ Ø¢Ù† Ú©Ø±ÛŒÚºØŸ", "response": "Ù†ÙˆÙ¹ÛŒÙÚ©ÛŒØ´Ù† Ø¢Ù† Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Settings' > 'Notifications' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù…ØªØ¹Ù„Ù‚Û Ø¢Ù¾Ø´Ù† Ø¢Ù† Ú©Ø±ÛŒÚºÛ”" },
    { "id": 18, "text": "Ù…ÛŒÚº Ù¹Ú¾ÛŒÚ©ÛŒØ¯Ø§Ø± Ú©Û’ Ø³Ø§ØªÚ¾ Ú©ÛŒØ³Û’ Ø±Ø§Ø¨Ø·Û Ú©Ø±ÙˆÚºØŸ", "response": "Ù¹Ú¾ÛŒÚ©ÛŒØ¯Ø§Ø± Ø³Û’ Ø±Ø§Ø¨Ø·Û Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Contractors' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± 'Contact' Ø¢Ù¾Ø´Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 19, "text": "Ù…ÛŒØ±ÛŒ Ú©Ø§Ù… Ú©ÛŒ Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÛŒÚºØŸ", "response": "Ú©Ø§Ù… Ú©ÛŒ Ø±ÛŒÚ©Ø§Ø±Úˆ Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Work History' ÛŒØ§ 'Attendance' Ø³ÛŒÚ©Ø´Ù† Ú©Ú¾ÙˆÙ„ÛŒÚºÛ”" },
    { "id": 20, "text": "Ú©ÛŒØ§ Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ ØªÙ†Ø®ÙˆØ§Û Ú©Ø§ Ø­Ø³Ø§Ø¨ Ø®ÙˆØ¯ Ø¯ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø¬ÛŒ ÛØ§ÚºØŒ 'Salary' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± 'Salary Calculator' Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 21, "text": "Ù…ÛŒÚº Ù†Ø¦ÛŒ Ù…ÛØ§Ø±ØªÛŒÚº Ú©ÛŒØ³Û’ Ø³ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ù†Ø¦ÛŒ Ù…ÛØ§Ø±ØªÛŒÚº Ø³ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Learning' ÛŒØ§ 'Skills' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¯Ø³ØªÛŒØ§Ø¨ Ú©ÙˆØ±Ø³Ø² Ø¯ÛŒÚ©Ú¾ÛŒÚºÛ”" },
    { "id": 22, "text": "Ù…ÛŒÚº Ú©Ø³ÛŒ Ø´Ú©Ø§ÛŒØª ÛŒØ§ Ù…Ø³Ø¦Ù„Û’ Ú©ÛŒ Ø§Ø·Ù„Ø§Ø¹ Ú©ÛŒØ³Û’ Ø¯ÙˆÚºØŸ", "response": "Ø´Ú©Ø§ÛŒØª ÛŒØ§ Ù…Ø³Ø¦Ù„Û’ Ú©ÛŒ Ø§Ø·Ù„Ø§Ø¹ Ø¯ÛŒÙ†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Support' > 'Report Issue' Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 23, "text": "Ù…ÛŒÚº Ú©ÙˆÙ† Ø³Û’ Ù…Ù„Ø² Ú©Û’ Ø³Ø§ØªÚ¾ Ú©Ø§Ù… Ú©Ø± Ú†Ú©Ø§ ÛÙˆÚº Ø¯ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø§Ù¾Ù†Û’ Ú©Ø§Ù… Ú©ÛŒÛ’ Ú¯Ø¦Û’ Ù…Ù„Ø² Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Work History' ÛŒØ§ 'Jobs Completed' Ø³ÛŒÚ©Ø´Ù† Ú©Ú¾ÙˆÙ„ÛŒÚºÛ”" },
    { "id": 24, "text": "Ú©ÛŒØ§ Ù…ÛŒÚº Ú©Ø³ÛŒ Ø¯ÙˆØ³Øª Ú©Ùˆ Ø¨Ú¾ÛŒ Ø§ÛŒÙ¾ Ù¾Ø± Ù„Ø§Ø¤ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø¬ÛŒ ÛØ§ÚºØŒ 'Invite Friends' Ø¢Ù¾Ø´Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº Ø§ÙˆØ± Ø¯ÙˆØ³Øª Ú©Ùˆ Ø§ÛŒÙ¾ Ù¾Ø± Ù…Ø¯Ø¹Ùˆ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 25, "text": "Ù…ÛŒÚº Ø§Ù¾Ù†Û’ Ú©Ø§Ù… Ú©ÛŒ ØªØ§Ø±ÛŒØ® Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "Ø§Ù¾Ù†Û’ Ú©Ø§Ù… Ú©ÛŒ ØªØ§Ø±ÛŒØ® Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Work History' ÛŒØ§ 'Attendance' Ø³ÛŒÚ©Ø´Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 26, "text": "Ú©ÛŒØ§ Ù…ÛŒÚº Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Û’ Ø·Ø±ÛŒÙ‚Û’ Ø¨Ø¯Ù„ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Û’ Ø·Ø±ÛŒÙ‚Û’ Ø¨Ø¯Ù„Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Settings' > 'Payment Methods' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù†ÛŒØ§ Ø·Ø±ÛŒÙ‚Û Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 27, "text": "Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ø¨Ù†Ø¯ Ú©ÛŒØ³Û’ Ú©Ø±ÙˆÚºØŸ", "response": "Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ø¨Ù†Ø¯ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Profile' > 'Settings' > 'Deactivate Account' Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 28, "text": "Ù…ÛŒÚº Ù†Ø¦ÛŒ Ø¬Ú¯Û Ù¾Ø± Ú©ÛŒØ³Û’ Ú©Ø§Ù… ØªÙ„Ø§Ø´ Ú©Ø±ÙˆÚºØŸ", "response": "Ù†Ø¦ÛŒ Ø¬Ú¯Û Ù¾Ø± Ú©Ø§Ù… ØªÙ„Ø§Ø´ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Jobs' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº ÙÙ„Ù¹Ø±Ø² Ú©Û’ Ø°Ø±ÛŒØ¹Û’ Ù…Ù‚Ø§Ù… Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚºÛ”" },
    { "id": 29, "text": "Ù…ÛŒÚº Ú©Ø§Ù… Ú©Û’ Ø§ÙˆÙ‚Ø§Øª Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ú©Ø§Ù… Ú©Û’ Ø§ÙˆÙ‚Ø§Øª Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Work Schedule' ÛŒØ§ 'Shifts' Ø³ÛŒÚ©Ø´Ù† Ú©Ú¾ÙˆÙ„ÛŒÚºÛ”" },
    { "id": 30, "text": "Ù…ÛŒÚº Ú©Ø³ Ø·Ø±Ø­ Ø§Ù¾Ù†Û’ Ú©Ø§Ù… Ú©ÛŒ Ø¯Ø±Ø¬Û Ø¨Ù†Ø¯ÛŒ Ø¨Ú‘Ú¾Ø§ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ú©Ø§Ù… Ú©ÛŒ Ø¯Ø±Ø¬Û Ø¨Ù†Ø¯ÛŒ Ø¨Ú‘Ú¾Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø§Ú†Ú¾Ø§ Ú©Ø§Ù… Ú©Ø±ÛŒÚºØŒ Ø±ÛŒÙˆÛŒÙˆØ² Ø­Ø§ØµÙ„ Ú©Ø±ÛŒÚº Ø§ÙˆØ± 'Ratings' Ø§Ù¾ ÚˆÛŒÙ¹ Ú©Ø±ÛŒÚºÛ”" }
,
  { "id": 31, "text": "Ø§ÛŒÙ¾ Ú©Ùˆ Ú©ÛŒØ³Û’ Ú†Ù„Ø§Ø¦ÛŒÚºØŸ", "response": "Ø§ÛŒÙ¾ Ú©Ùˆ Ú†Ù„Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø§Ø³Û’ Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚºØŒ Ù„Ø§Ú¯ Ø§Ù† Ú©Ø±ÛŒÚº Ø§ÙˆØ± Ù…ÛŒÙ† Ù…ÛŒÙ†Ùˆ Ø³Û’ Ø§Ù¾Ù†Û’ ÙÛŒÚ†Ø±Ø² Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 32, "text": "Ù…ÛŒÚº Ø§Ù¾Ù†Ø§ Ù¾Ø§Ø³ÙˆØ±Úˆ Ú©ÛŒØ³Û’ Ø¨Ø¯Ù„ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ù¾Ø§Ø³ÙˆØ±Úˆ Ø¨Ø¯Ù„Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Settings' > 'Change Password' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚºÛ”" },
  { "id": 33, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ù†ÙˆÙ¹ÛŒÙÚ©ÛŒØ´Ù† Ú©ÛŒØ³Û’ Ø¢Ù† Ú©Ø±ÙˆÚºØŸ", "response": "Ù†ÙˆÙ¹ÛŒÙÚ©ÛŒØ´Ù† Ø¢Ù† Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Settings' > 'Notifications' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù…Ø·Ù„ÙˆØ¨Û Ø¢Ù¾Ø´Ù† Ø¢Ù† Ú©Ø±ÛŒÚºÛ”" },
  { "id": 34, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ù†Ø¦ÛŒ Ù†ÙˆÚ©Ø±ÛŒ Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "Ù†Ø¦ÛŒ Ù†ÙˆÚ©Ø±ÛŒ Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Jobs' Ø³ÛŒÚ©Ø´Ù† Ú©Ú¾ÙˆÙ„ÛŒÚº Ø§ÙˆØ± ÙÙ„Ù¹Ø±Ø² Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 35, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ø§Ù¾ ÚˆÛŒÙ¹ Ú©ÛŒØ³Û’ Ú©Ø±ÙˆÚºØŸ", "response": "Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ø§Ù¾ ÚˆÛŒÙ¹ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Profile' > 'Edit' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¨Ø¯Ù„ÛŒÚºÛ”" },
  { "id": 36, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù¾Ø± Ø§Ù¾Ù†Û’ Ú©Ø§Ù… Ú©ÛŒ Ø±Ù¾ÙˆØ±Ù¹ Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "Ú©Ø§Ù… Ú©ÛŒ Ø±Ù¾ÙˆØ±Ù¹ Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Work History' ÛŒØ§ 'Attendance' Ø³ÛŒÚ©Ø´Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 37, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ú©Ø³ÛŒ Ù¹Ú¾ÛŒÚ©ÛŒØ¯Ø§Ø± Ø³Û’ Ú©ÛŒØ³Û’ Ø±Ø§Ø¨Ø·Û Ú©Ø±ÙˆÚºØŸ", "response": "Ù¹Ú¾ÛŒÚ©ÛŒØ¯Ø§Ø± Ø³Û’ Ø±Ø§Ø¨Ø·Û Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Contractors' > 'Contact' Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 38, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù¾Ø± Ù†ÙˆÚ©Ø±ÛŒ Ú†Ú¾ÙˆÚ‘Ù†Û’ Ú©Ø§ Ø·Ø±ÛŒÙ‚Û Ú©ÛŒØ§ ÛÛ’ØŸ", "response": "Ù†ÙˆÚ©Ø±ÛŒ Ú†Ú¾ÙˆÚ‘Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Jobs' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± 'Resign' Ù¾Ø± Ú©Ù„Ú© Ú©Ø±ÛŒÚºÛ”" },
  { "id": 39, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ø§Ù¾Ù†ÛŒ Ø¯Ø³ØªÛŒØ§Ø¨ÛŒ Ú©ÛŒØ³Û’ Ø³ÛŒÙ¹ Ú©Ø±ÙˆÚºØŸ", "response": "Ø¯Ø³ØªÛŒØ§Ø¨ÛŒ Ø³ÛŒÙ¹ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Availability' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± ØªØ§Ø±ÛŒØ® ÛŒØ§ ÙˆÙ‚Øª Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 40, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù¾Ø± ØªÙ†Ø®ÙˆØ§Û Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "ØªÙ†Ø®ÙˆØ§Û Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Salary' Ø³ÛŒÚ©Ø´Ù† Ú©Ú¾ÙˆÙ„ÛŒÚº Ø§ÙˆØ± Ø§Ù¾Ù†Û’ Ø´ÛŒÚˆÙˆÙ„ Ú©Û’ Ù…Ø·Ø§Ø¨Ù‚ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯ÛŒÚ©Ú¾ÛŒÚºÛ”" },
  { "id": 41, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ù†Ø¦ÛŒ Ù…ÛØ§Ø±ØªÛŒÚº Ú©ÛŒØ³Û’ Ø³ÛŒÚ©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ù†Ø¦ÛŒ Ù…ÛØ§Ø±ØªÛŒÚº Ø³ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Skills' ÛŒØ§ 'Learning' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¯Ø³ØªÛŒØ§Ø¨ Ú©ÙˆØ±Ø³Ø² Ø¯ÛŒÚ©Ú¾ÛŒÚºÛ”" },
  { "id": 42, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù¾Ø± Ú©Ø§Ù… Ú©Û’ Ø§ÙˆÙ‚Ø§Øª Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "Ú©Ø§Ù… Ú©Û’ Ø§ÙˆÙ‚Ø§Øª Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Work Schedule' ÛŒØ§ 'Shifts' Ø³ÛŒÚ©Ø´Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 43, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù¾Ø± Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Û’ Ø·Ø±ÛŒÙ‚Û’ Ú©ÛŒØ³Û’ Ø¨Ø¯Ù„ÙˆÚºØŸ", "response": "Ø§Ø¯Ø§Ø¦ÛŒÚ¯ÛŒ Ú©Û’ Ø·Ø±ÛŒÙ‚Û’ Ø¨Ø¯Ù„Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Settings' > 'Payment Methods' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù†ÛŒØ§ Ø·Ø±ÛŒÙ‚Û Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 44, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ø±ÛŒÙ¹Ù†Ú¯ Ú©ÛŒØ³Û’ Ø¨Ú‘Ú¾Ø§Ø¤ÚºØŸ", "response": "Ø±ÛŒÙ¹Ù†Ú¯ Ø¨Ú‘Ú¾Ø§Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ Ø§Ú†Ú¾Ø§ Ú©Ø§Ù… Ú©Ø±ÛŒÚº Ø§ÙˆØ± Ú©Ù„Ø§Ø¦Ù†Ù¹Ø³ Ø³Û’ Ù…Ø«Ø¨Øª Ø±ÛŒÙˆÛŒÙˆØ² Ø­Ø§ØµÙ„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 45, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù¾Ø± Ø´Ú©Ø§ÛŒØª Ú©ÛŒØ³Û’ Ø¯ÙˆÚºØŸ", "response": "Ø´Ú©Ø§ÛŒØª Ø¯ÛŒÙ†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Support' > 'Report Issue' Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 46, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ú©Ø³ÛŒ Ø¯ÙˆØ³Øª Ú©Ùˆ Ú©ÛŒØ³Û’ Ù…Ø¯Ø¹Ùˆ Ú©Ø±ÙˆÚºØŸ", "response": "Ø¯ÙˆØ³Øª Ú©Ùˆ Ù…Ø¯Ø¹Ùˆ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Invite Friends' Ø¢Ù¾Ø´Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 47, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ù¾Ø±Ø§Ù†Û’ Ú©Ø§Ù… Ú©ÛŒ Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "Ù¾Ø±Ø§Ù†Û’ Ú©Ø§Ù… Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Work History' ÛŒØ§ 'Jobs Completed' Ø³ÛŒÚ©Ø´Ù† Ú©Ú¾ÙˆÙ„ÛŒÚºÛ”" },
  { "id": 48, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ø§Ù¾ Ù„ÙˆÚˆ Ú©ÛŒ Ú¯Ø¦ÛŒ ØªØµÙˆÛŒØ±ÛŒÚº Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "ØªØµÙˆÛŒØ±ÛŒÚº Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Profile' > 'Gallery' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚºÛ”" },
  { "id": 49, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº ÚˆÛŒØ¬ÛŒÙ¹Ù„ Ù…Ø¹Ø§ÛØ¯Û Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "ÚˆÛŒØ¬ÛŒÙ¹Ù„ Ù…Ø¹Ø§ÛØ¯Û Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Contracts' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ù…ØªØ¹Ù„Ù‚Û Ù…Ø¹Ø§ÛØ¯Û Ú©Ú¾ÙˆÙ„ÛŒÚºÛ”" },
  { "id": 50, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ú©Ø³ Ø·Ø±Ø­ Ø§ÛŒÙ…Ø±Ø¬Ù†Ø³ÛŒ Ù…Ø¯Ø¯ Ù„Û’ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ø§ÛŒÙ…Ø±Ø¬Ù†Ø³ÛŒ Ù…Ø¯Ø¯ Ú©Û’ Ù„ÛŒÛ’ 'Support' > 'Emergency' Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº Ø§ÙˆØ± ÙÙˆØ±ÛŒ Ø±Ø§Ø¨Ø·Û Ú©Ø±ÛŒÚºÛ”" },
  { "id": 51, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ù†ÙˆÚ©Ø±ÛŒ Ú©ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ú©Ø¨ ØªÚ© Ø±Ú©Ú¾ Ø³Ú©ØªØ§ ÛÙˆÚºØŸ", "response": "Ù†ÙˆÚ©Ø±ÛŒ Ú©ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª 'Jobs' Ù…ÛŒÚº Ø¬Ø§ Ú©Ø± Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚº Ø§ÙˆØ± 'Apply' Ù¾Ø± Ú©Ù„Ú© Ú©Ø±ÛŒÚºÛ”" },
  { "id": 52, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ú©ÛŒØ³Û’ Ø³Ø§Ø¦Ù† Ø¢Ø¤Ù¹ Ú©Ø±ÙˆÚºØŸ", "response": "Ø³Ø§Ø¦Ù† Ø¢Ø¤Ù¹ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Settings' > 'Logout' Ù¾Ø± Ú©Ù„Ú© Ú©Ø±ÛŒÚºÛ”" },
  { "id": 53, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ù†ÙˆÙ¹ÛŒÙÚ©ÛŒØ´Ù† Ø¨Ù†Ø¯ Ú©ÛŒØ³Û’ Ú©Ø±ÙˆÚºØŸ", "response": "Ù†ÙˆÙ¹ÛŒÙÚ©ÛŒØ´Ù† Ø¨Ù†Ø¯ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Settings' > 'Notifications' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ø¢Ù Ú©Ø±ÛŒÚºÛ”" },
  { "id": 54, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ù¾Ø±ÙˆÙØ§Ø¦Ù„ ÙÙˆÙ¹Ùˆ Ú©ÛŒØ³Û’ Ø¨Ø¯Ù„ÙˆÚºØŸ", "response": "Ù¾Ø±ÙˆÙØ§Ø¦Ù„ ÙÙˆÙ¹Ùˆ Ø¨Ø¯Ù„Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Profile' > 'Edit' > 'Upload Photo' Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 55, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ú©Ø§Ù… Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "Ú©Ø§Ù… Ú©ÛŒ ØªÙØµÛŒÙ„Ø§Øª Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Jobs' ÛŒØ§ 'Work History' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚºÛ”" },
  { "id": 56, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ø¯Ø³ØªÛŒØ§Ø¨ Ø¬Ø§Ø¨Ø² Ú©ÛŒØ³Û’ ÙÙ„Ù¹Ø± Ú©Ø±ÙˆÚºØŸ", "response": "Ø¬Ø§Ø¨Ø² ÙÙ„Ù¹Ø± Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Jobs' Ù…ÛŒÚº ÙÙ„Ù¹Ø±Ø² Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº Ø¬ÛŒØ³Û’ Ù…Ù‚Ø§Ù…ØŒ ÙˆÙ‚Øª ÛŒØ§ ØªÙ†Ø®ÙˆØ§ÛÛ”" },
  { "id": 57, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ø§Ù¾Ù†Ø§ Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ú©ÛŒØ³Û’ Ø§ÛŒÚ©Ù¹ÛŒÙˆ Ø±Ú©Ú¾ÙˆÚºØŸ", "response": "Ù¾Ø±ÙˆÙØ§Ø¦Ù„ Ø§ÛŒÚ©Ù¹ÛŒÙˆ Ø±Ú©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ ØªÙ…Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ú©Ù…Ù„ Ú©Ø±ÛŒÚº Ø§ÙˆØ± 'Profile Active' Ø¢Ù† Ú©Ø±ÛŒÚºÛ”" },
  { "id": 58, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ú©Ø³ÛŒ Ù¹Ú¾ÛŒÚ©ÛŒØ¯Ø§Ø± Ú©ÛŒ Ù¹ÛŒÙ… Ù…ÛŒÚº Ø´Ø§Ù…Ù„ Ú©ÛŒØ³Û’ ÛÙˆÚºØŸ", "response": "Ù¹Ú¾ÛŒÚ©ÛŒØ¯Ø§Ø± Ú©ÛŒ Ù¹ÛŒÙ… Ù…ÛŒÚº Ø´Ø§Ù…Ù„ ÛÙˆÙ†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Contractors' Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº Ø§ÙˆØ± Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯ÛŒÚºÛ”" },
  { "id": 59, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº Ù†Ø¦ÛŒ Ø¬Ú¯Û Ù¾Ø± Ú©Ø§Ù… Ú©ÛŒØ³Û’ ØªÙ„Ø§Ø´ Ú©Ø±ÙˆÚºØŸ", "response": "Ù†Ø¦ÛŒ Ø¬Ú¯Û Ù¾Ø± Ú©Ø§Ù… ØªÙ„Ø§Ø´ Ú©Ø±Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Jobs' Ø³ÛŒÚ©Ø´Ù† Ù…ÛŒÚº Ù…Ù‚Ø§Ù… Ù…Ù†ØªØ®Ø¨ Ú©Ø±ÛŒÚºÛ”" },
  { "id": 60, "text": "Ù…ÛŒÚº Ø§ÛŒÙ¾ Ù…ÛŒÚº ØªØ±Ø¨ÛŒØªÛŒ Ú©ÙˆØ±Ø³ Ú©ÛŒØ³Û’ Ø¯ÛŒÚ©Ú¾ÙˆÚºØŸ", "response": "ØªØ±Ø¨ÛŒØªÛŒ Ú©ÙˆØ±Ø³ Ø¯ÛŒÚ©Ú¾Ù†Û’ Ú©Û’ Ù„ÛŒÛ’ 'Learning' ÛŒØ§ 'Skills' Ø³ÛŒÚ©Ø´Ù† Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚºÛ”" }
];

const findMatchingQuestion = (text) => {
  const lowerText = text.toLowerCase();
  const match = questionsData.find(q => q.text.includes(lowerText) || lowerText.includes(q.text));
  if (match) return match;
  const similar = questionsData.find(q => q.text.split(" ").some(word => lowerText.includes(word)));
  return similar;
};

app.post("/api/chat", async (req, res) => {
  try {
    const { message } = req.body;
    if (!message) return res.status(400).json({ error: "Message is required" });

    // Step 1: Translate user input to Urdu
    const translation = await openai.chat.completions.create({
      model: "gpt-4o-mini",
      messages: [
        { role: "system", content: "Ø¢Ù¾ Ú©Ø§ Ú©Ø§Ù… ØµØ±Ù Ø§Ù†Ú¯Ø±ÛŒØ²ÛŒ ÛŒØ§ Ú©Ø³ÛŒ Ø¨Ú¾ÛŒ Ø²Ø¨Ø§Ù† Ú©Ùˆ Ø§Ø±Ø¯Ùˆ Ù…ÛŒÚº ØªØ±Ø¬Ù…Û Ú©Ø±Ù†Ø§ ÛÛ’ØŒ Ø¨ØºÛŒØ± Ø¬ÙˆØ§Ø¨ Ø¯ÛŒÛ’Û”" },
        { role: "user", content: message }
      ],
    });

    const messageInUrdu = translation.choices[0].message.content.trim();

    // Step 2: Find exact or partial match
    const matchedQuestion = findMatchingQuestion(messageInUrdu);
    if (matchedQuestion) {
      return res.json({ reply: matchedQuestion.response });
    }

    // Step 3: Generate a context-aware answer in Urdu based on app features
    const context = questionsData.map(q => `Ø³ÙˆØ§Ù„: ${q.text} | Ø¬ÙˆØ§Ø¨: ${q.response}`).join("\n");

    const response = await openai.chat.completions.create({
  model: "gpt-4o-mini",
  messages: [
    {
      role: "system",
      content: `
Ø¢Ù¾ Ø§ÛŒÚ© AI Ø§Ø³Ø³Ù¹Ù†Ù¹ ÛÛŒÚº Ø¬Ùˆ ØµØ±Ù "Ù…Ø²Ø¯ÙˆØ± Ø§ÙˆØ± Ù¹Ú¾ÛŒÚ©ÛŒØ¯Ø§Ø±" Ù…ÙˆØ¨Ø§Ø¦Ù„ Ø§ÛŒÙ¾ Ú©Û’ basic flow Ø§ÙˆØ± ÙÛŒÚ†Ø±Ø² Ú©Û’ Ù…Ø·Ø§Ø¨Ù‚ Ø¬ÙˆØ§Ø¨ Ø¯ÛŒØªØ§ ÛÛ’Û”  
- ÛÙ…ÛŒØ´Û Ø¬ÙˆØ§Ø¨ Ø§Ø±Ø¯Ùˆ Ù…ÛŒÚº Ø¯ÛŒÚºÛ”  
- ÛØ± Ø³ÙˆØ§Ù„ Ú©Ø§ Ø¬ÙˆØ§Ø¨ Ø§ÛŒÙ¾ Ú©Û’ Ø§Ø³ØªØ¹Ù…Ø§Ù„ ÛŒØ§ ÙÛŒÚ†Ø±Ø² Ú©Û’ ØªÙ†Ø§Ø¸Ø± Ù…ÛŒÚº Ø¯ÛŒÚºØŒ Ø¬ÛŒØ³Û’ Ù„Ø§Ú¯ Ø§Ù†ØŒ Ù¾Ø±ÙˆÙØ§Ø¦Ù„ØŒ Ø¬Ø§Ø¨ Ù¾ÙˆØ³Ù¹Ù†Ú¯ØŒ Ø¬Ø§Ø¨ Ø§Ù¾Ù„Ø§Ø¦ÛŒØŒ Ø¨ÚˆÙ†Ú¯ØŒ ÛŒØ§ Ù†ÙˆÙ¹ÛŒÙÛŒÚ©ÛŒØ´Ù†Ø²Û”  
- Ø§Ú¯Ø± Ø³ÙˆØ§Ù„ Ø§ÛŒÙ¾ Ø³Û’ Ø¨Ø±Ø§Û Ø±Ø§Ø³Øª Ù…ØªØ¹Ù„Ù‚ Ù†Û ÛÙˆØŒ ØªØ¨ Ø¨Ú¾ÛŒ Ø§Ù¾Ù†ÛŒ Ø³Ù…Ø¬Ú¾ Ú©Û’ Ù…Ø·Ø§Ø¨Ù‚ Ø³Ø¨ Ø³Û’ Ù‚Ø±ÛŒØ¨ÛŒ Ø¬ÙˆØ§Ø¨ Ø§ÛŒÙ¾ Ú©Û’ basic flow Ø³Û’ Ø¯ÛŒÚºÛ”  
- Ú©Ø¨Ú¾ÛŒ Ø¨Ú¾ÛŒ ØºÛŒØ± Ù…ØªØ¹Ù„Ù‚Û ÛŒØ§ Ø¹Ø§Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù†Û Ø¯ÛŒÚºÛ”  
- context Ù…ÛŒÚº Ø¯ÛŒ Ú¯Ø¦ÛŒ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ú©Ùˆ Ø¬ÙˆØ§Ø¨ Ù…ÛŒÚº Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº Ø§Ú¯Ø± Ø¶Ø±ÙˆØ±ÛŒ ÛÙˆÛ”  

Ù…ÙˆØ¬ÙˆØ¯Û Ù…Ø¹Ù„ÙˆÙ…Ø§Øª: ${context}
      `
    },
    { role: "user", content: messageInUrdu }
  ],
});


    const reply = response.choices[0].message.content;
    res.json({ reply });

  } catch (err) {
    console.error(err);
    res.status(500).json({ error: "Ø³Ø±ÙˆØ± Ù…ÛŒÚº Ø®Ø±Ø§Ø¨ÛŒ Ù¾ÛŒØ´ Ø¢Ú¯Ø¦ÛŒ" });
  }
});

// Transcribe route
app.post("/api/transcribe", upload.single("file"), async (req, res) => {
  try {
    if (!req.file || !req.file.path) return res.status(400).json({ error: "Ú©ÙˆØ¦ÛŒ ÙØ§Ø¦Ù„ Ø§Ù¾Ù„ÙˆÚˆ Ù†ÛÛŒÚº ÛÙˆØ¦ÛŒ" });

    const cloudinaryUrl = req.file.path;

    // Download audio
    const audioResponse = await fetch(cloudinaryUrl);
    const audioBuffer = await audioResponse.buffer();

    const tempInput = path.join("/tmp", `input_${Date.now()}`);
    const tempOutput = path.join("/tmp", `output_${Date.now()}.mp3`);
    fs.writeFileSync(tempInput, audioBuffer);

    await new Promise((resolve, reject) => {
      ffmpeg(tempInput)
        .setFfmpegPath(ffmpegPath)
        .output(tempOutput)
        .on("end", resolve)
        .on("error", reject)
        .run();
    });

    const fileStream = fs.createReadStream(tempOutput);
    const form = new FormData();
    form.append("file", fileStream);
    form.append("model", "whisper-1");

    const whisperResponse = await fetch("https://api.openai.com/v1/audio/transcriptions", {
      method: "POST",
      headers: { Authorization: `Bearer ${process.env.OPENAI_API_KEY}`, ...form.getHeaders() },
      body: form,
    });

    const data = await whisperResponse.json();

    fs.unlinkSync(tempInput);
    fs.unlinkSync(tempOutput);

    if (data.error) return res.status(500).json({ error: data.error.message });

    res.json({ text: data.text || "", cloudinaryUrl });
  } catch (err) {
    console.error("Transcription error:", err);
    res.status(500).json({ error: "Ø¢ÚˆÛŒÙˆ Ú©Ùˆ Ù¹ÛŒÚ©Ø³Ù¹ Ù…ÛŒÚº ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±Ù†Û’ Ù…ÛŒÚº Ù†Ø§Ú©Ø§Ù…ÛŒ" });
  }
});

// Root endpoint
app.get("/", (req, res) => res.send("ðŸš€ Labour Hub API is running!"));

const port = process.env.PORT || 3000;
app.listen(port, () => console.log(`âœ… Server running at http://localhost:${port}`));

